<?xml version="1.0" encoding="UTF-8"?>
 
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
    
    <changeSet author="anatoleabe (generated)" id="1620641683809-1">
        <createTable tableName="pharm_customer">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="address" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(100)"/>
            <column name="tel" type="VARCHAR(20)"/>
            <column name="patient_id" type="INT"/>
            <column name="customer_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-2">
        <createTable tableName="pharm_customer_type">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(20)"/>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-3">
        <createTable tableName="pharm_item">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="unit_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="route_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sell_price" type="DOUBLE"/>
             <column name="AMC" type="DOUBLE"/>
            <column name="buy_price" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="virtualstock" type="INT"/>
            <column name="soh" type="INT"/>
            <column name="stock_min" type="INT"/>
            <column name="stock_max" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-4">
        <createTable tableName="pharm_items_line">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="location_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="item_batch" type="VARCHAR(50)"/>
            <column name="item_expiry_date" type="date"/>
            <column name="item_virtualstock" type="INT"/>
            <column name="item_soh" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-5">
        <createTable tableName="pharm_order_detail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="item_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="order_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="order_line_quantity" type="INT"/>
            <column name="item_soh" type="INT"/>
            <column name="item_amc" type="INT"/>
            <column name="order_line_amount" type="DOUBLE"/>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-7">
        <createTable tableName="pharm_pharmacy_location">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-8">
        <createTable tableName="pharm_pharmacy_order">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="supplier_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="date"/>
            <column name="person_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DOUBLE"/>
            <column name="date_approbation" type="date"/>
            <column name="date_reception" type="date"/>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-9">
        <createTable tableName="pharm_reception">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="order_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="person_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-10">
        <createTable tableName="pharm_reception_detail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="reception_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="item_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="order_line_quantity" type="INT"/>
            <column name="quantity_received" type="INT"/>
            <column name="item_batch" type="VARCHAR(50)"/>
            <column name="item_expiry_date" type="date"/>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-11">
        <createTable tableName="pharm_route">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(50)"/>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-12">
        <createTable tableName="pharm_sending">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="date" type="date"/>
            <column name="customer_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sending_amount" type="DOUBLE"/>
            <column name="person_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-13">
        <createTable tableName="pharm_sending_detail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="sending_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="sending_details_quantity" type="INT"/>
            <column name="sending_details_value" type="INT"/>
            <column name="sending_item_batch" type="VARCHAR(50)"/>
            <column name="sending_item_expiry_date" type="date"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-14">
        <createTable tableName="pharm_stocktake">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="date"/>
            <column name="name" type="VARCHAR(100)"/>
            <column name="location_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-15">
        <createTable tableName="pharm_stocktake_detail">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="stocktake_id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="item_stock" type="INT"/>
            <column name="item_physical_stock" type="INT"/>
            <column name="stocktake_line_comments" type="VARCHAR(255)"/>
            <column name="adjust_quantity" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-16">
        <createTable tableName="pharm_supplier">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="address" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(100)"/>
            <column name="tel" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-17">
        <createTable tableName="pharm_transaction">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="date"/>
            <column name="transaction_type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="INT"/>
            <column name="item_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="item_batch" type="VARCHAR(50)"/>
            <column name="item_expiry_date" type="date"/>
            <column name="location_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="person_id" type="INT"/>
            <column name="amount" type="DOUBLE"/>
            <column name="status" type="VARCHAR(10)"/>
            <column name="transaction_type_code" type="VARCHAR(10)">
                <constraints nullable="false"/>
            </column>
            <column name="sending_id" type="INT"/>
            <column name="reception_id" type="INT"/>
            <column name="stocktake_id" type="INT"/>
            <column name="adjustment_date" type="date"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-18">
        <createTable tableName="pharm_transaction_type">
            <column autoIncrement="true" name="id" type="INT">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="code" type="VARCHAR(10)">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-19">
        <createTable tableName="pharm_unit">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="uuid" type="VARCHAR(38)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(10)"/>
            <column name="name" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-20">
        <createIndex indexName="FKpharm_cust449636" tableName="pharm_customer">
            <column name="customer_type_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-21">
        <createIndex indexName="FKpharm_item577093" tableName="pharm_item">
            <column name="unit_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-22">
        <createIndex indexName="FKpharm_item581647" tableName="pharm_item">
            <column name="route_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-23">
        <createIndex indexName="FKpharm_item774750" tableName="pharm_items_line">
            <column name="location_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-24">
        <createIndex indexName="FKpharm_orde784692" tableName="pharm_order_detail">
            <column name="order_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-25">
        <createIndex indexName="FKpharm_orde820648" tableName="pharm_pharmacy_order">
            <column name="person_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-26">
        <createIndex indexName="FKpharm_orde883098" tableName="pharm_pharmacy_order">
            <column name="supplier_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-27">
        <createIndex indexName="FKpharm_rece13494" tableName="pharm_reception_detail">
            <column name="item_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-28">
        <createIndex indexName="FKpharm_rece377506" tableName="pharm_reception">
            <column name="person_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-29">
        <createIndex indexName="FKpharm_rece738543" tableName="pharm_reception">
            <column name="order_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-30">
        <createIndex indexName="FKpharm_send193203" tableName="pharm_sending">
            <column name="person_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-31">
        <createIndex indexName="FKpharm_send269367" tableName="pharm_sending">
            <column name="customer_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-32">
        <createIndex indexName="FKpharm_send286846" tableName="pharm_sending_detail">
            <column name="sending_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-33">
        <createIndex indexName="FKpharm_stoc255778" tableName="pharm_stocktake_detail">
            <column name="stocktake_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-34">
        <createIndex indexName="FKpharm_stoc941420" tableName="pharm_stocktake">
            <column name="location_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-35">
        <createIndex indexName="FKpharm_tran28186" tableName="pharm_transaction">
            <column name="transaction_type_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-36">
        <createIndex indexName="FKpharm_tran828906" tableName="pharm_transaction">
            <column name="location_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-37">
        <createIndex indexName="FKpharm_tran892810" tableName="pharm_transaction">
            <column name="item_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-38">
        <addForeignKeyConstraint baseColumnNames="customer_type_id" baseTableName="pharm_customer" constraintName="FKpharm_cust449636" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_customer_type" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-39">
        <addForeignKeyConstraint baseColumnNames="unit_id" baseTableName="pharm_item" constraintName="FKpharm_item577093" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_unit" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-40">
        <addForeignKeyConstraint baseColumnNames="route_id" baseTableName="pharm_item" constraintName="FKpharm_item581647" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_route" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-41">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_items_line" constraintName="FKpharm_item710846" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-42">
        <addForeignKeyConstraint baseColumnNames="location_id" baseTableName="pharm_items_line" constraintName="FKpharm_item774750" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_pharmacy_location" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-43">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_order_detail" constraintName="FKpharm_orde637966" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-44">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="pharm_order_detail" constraintName="FKpharm_orde784692" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_pharmacy_order" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-45">
        <addForeignKeyConstraint baseColumnNames="person_id" baseTableName="pharm_pharmacy_order" constraintName="FKpharm_orde820648" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="person_id" referencedTableName="person" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-46">
        <addForeignKeyConstraint baseColumnNames="supplier_id" baseTableName="pharm_pharmacy_order" constraintName="FKpharm_orde883098" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_supplier" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-47">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_reception_detail" constraintName="FKpharm_rece13494" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-48">
        <addForeignKeyConstraint baseColumnNames="person_id" baseTableName="pharm_reception" constraintName="FKpharm_rece377506" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="person_id" referencedTableName="person" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-49">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="pharm_reception" constraintName="FKpharm_rece738543" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_pharmacy_order" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-50">
        <addForeignKeyConstraint baseColumnNames="reception_id" baseTableName="pharm_reception_detail" constraintName="FKpharm_rece853587" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_reception" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-51">
        <addForeignKeyConstraint baseColumnNames="person_id" baseTableName="pharm_sending" constraintName="FKpharm_send193203" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="person_id" referencedTableName="person" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-52">
        <addForeignKeyConstraint baseColumnNames="customer_id" baseTableName="pharm_sending" constraintName="FKpharm_send269367" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_customer" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-53">
        <addForeignKeyConstraint baseColumnNames="sending_id" baseTableName="pharm_sending_detail" constraintName="FKpharm_send286846" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_sending" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-54">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_sending_detail" constraintName="FKpharm_send540246" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-55">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_stocktake_detail" constraintName="FKpharm_stoc122383" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-56">
        <addForeignKeyConstraint baseColumnNames="stocktake_id" baseTableName="pharm_stocktake_detail" constraintName="FKpharm_stoc255778" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_stocktake" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-57">
        <addForeignKeyConstraint baseColumnNames="location_id" baseTableName="pharm_stocktake" constraintName="FKpharm_stoc941420" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_pharmacy_location" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-58">
        <addForeignKeyConstraint baseColumnNames="transaction_type_code" baseTableName="pharm_transaction" constraintName="FKpharm_tran28186" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="code" referencedTableName="pharm_transaction_type" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-59">
        <addForeignKeyConstraint baseColumnNames="location_id" baseTableName="pharm_transaction" constraintName="FKpharm_tran828906" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_pharmacy_location" />
    </changeSet>
    <changeSet author="anatoleabe (generated)" id="1620641683809-60">
        <addForeignKeyConstraint baseColumnNames="item_id" baseTableName="pharm_transaction" constraintName="FKpharm_tran892810" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pharm_item" />
    </changeSet>
      
    <changeSet author="agilbert" id="1620641683809-61">
        <sql>
            ALTER TABLE pharm_supplier ADD CONSTRAINT UNIQUE (code)
        </sql>
    </changeSet>
    
    <changeSet author="agilbert" id="11620641683809-62">
        <sql>
            ALTER TABLE pharm_customer ADD CONSTRAINT UNIQUE(code)
        </sql>
    </changeSet>
    
    <changeSet author="agilbert" id="1620641683809-63">
        <sql>
            ALTER TABLE pharm_pharmacy_location ADD CONSTRAINT UNIQUE (code)
        </sql>
    </changeSet>
    
    
    <changeSet author="agilbert" id="1620641683809-64">
        <sql>
            ALTER TABLE pharm_item ADD CONSTRAINT  UNIQUE(code)
        </sql>
    </changeSet>

    <changeSet author="agilbert" id="1620641683809-65">
        <sql>
            ALTER TABLE pharm_unit ADD CONSTRAINT  UNIQUE (code)
        </sql>
    </changeSet>
    
    
    <changeSet author="agilbert" id="1620641683809-66">
        <sql>
            ALTER TABLE pharm_route ADD CONSTRAINT  UNIQUE (code)
        </sql>
    </changeSet>
    <changeSet  author="enokby"  id="enokby-1">  
        <dropNotNullConstraint  columnDataType="int" columnName="order_id" tableName="pharm_reception"/>  
    </changeSet>
</databaseChangeLog>